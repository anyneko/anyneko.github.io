---
pagination:
  data: collections.post
  size: 10
  reverse: true
permalink: "{% if pagination.pageNumber == 0 %}/{% else %}/{{ pagination.pageNumber + 1 }}/{% endif %}"
layout: base.njk
title: 首页
show_intro: true
description: 大猫猫很笨很笨的说...（小声）
---

<section class="posts" id="latest-posts">
  {% for post in pagination.items %}
    <article class="post-preview">
      <h2><a href="{{ post.url }}">{{ post.data.title }}</a></h2>
      <p class="meta">{{ post.date | date("yyyy-MM-dd") }}</p>
      {% set raw_excerpt = post.templateContent | excerpt %}
      {% if post.data.excerpt %}
      <p class="excerpt">
        {{ post.data.excerpt | markdown | safe }}
      </p>
      {% elif raw_excerpt %}
      <p class="excerpt">
        {{ raw_excerpt | safe }}
      </p>
      {% else %}
      <p class="excerpt">
        {{ post.templateContent | truncate(150, true, "...") | safe }}
      </p>
      {% endif %}
    </article>
    {% if not loop.last %}
    <hr>
    {% endif %}
  {% endfor %}
</section>

<nav class="pagination" aria-label="分页导航">
  {% if pagination.href.previous %}
    <a class="pagination__link pagination__link--prev" href="{{ pagination.href.previous }}" rel="prev">上一页</a>
  {% else %}
    <span class="pagination__placeholder" aria-hidden="true">上一页</span>
  {% endif %}

  <span class="pagination__page-indicator">&lt;{{ pagination.pageNumber + 1 }}&gt;</span>

  {% if pagination.href.next %}
    <a class="pagination__link pagination__link--next" href="{{ pagination.href.next }}" rel="next">下一页</a>
  {% else %}
    <span class="pagination__placeholder" aria-hidden="true">下一页</span>
  {% endif %}
</nav>
