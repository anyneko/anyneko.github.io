---
pagination:
  data: collections.post
  size: 10
  reverse: true
layout: base.njk
title: 首页
show_intro: true
---

<section class="posts" id="latest-posts">
  {% for post in pagination.items %}
    <article class="post-preview">
      <h2><a href="{{ post.url }}">{{ post.data.title }}</a></h2>
      <p class="meta">{{ post.date | date("yyyy-MM-dd") }}</p>
      {% set raw_excerpt = post.templateContent | excerpt %}
      {% if post.data.excerpt %}
      <p class="excerpt">
        {{ post.data.excerpt | markdown | safe }}
      </p>
      {% elif raw_excerpt %}
      <p class="excerpt">
        {{ raw_excerpt | safe }}
      </p>
      {% else %}
      <p class="excerpt">
        {{ post.templateContent | truncate(150, true, "...") | safe }}
      </p>
      {% endif %}
    </article>
    {% if not loop.last %}
    <hr>
    {% endif %}
  {% endfor %}
</section>

<nav class="pagination">
  {% if pagination.href.previous %}
    <a href="{{ pagination.href.previous }}">上一页</a>
  {% endif %}
  {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}">下一页</a>
  {% endif %}
</nav>
