<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} | Ameyama Mio's Blog</title>
  <link rel="stylesheet" href="/assets/fonts/lxgw.css">
  <link rel="stylesheet" href="/styles.css">
  <link rel="alternate" href="/feed.xml" title="Ameyama Mio's Blog RSS Feed" type="application/atom+xml">
  <script>
    (function () {
      try {
        var params = new URLSearchParams(window.location.search);
        var theme = params.get("theme");
        var root = document.documentElement;
        if (theme === "dark" || theme === "light") {
          root.setAttribute("data-theme", theme);
        } else if (theme === "system") {
          root.removeAttribute("data-theme");
        }
      } catch (err) {
        console.warn("Theme parameter parsing failed:", err);
      }
    })();
  </script>
</head>
<body>
  <main id="main-content">
    {% if show_intro is not defined or show_intro %}
    {% include "intro.njk" %}
    {% endif %}
    {% if show_tag_nav %}
    {% include "tag-nav.njk" %}
    {% endif %}
    {% block content %}{{ content | safe }}{% endblock %}
    {% if show_footer is not defined or show_footer %}
    {% include "footer.njk" %}
    {% endif %}
  </main>
  <div id="page-bottom"></div>
</body>
</html>
